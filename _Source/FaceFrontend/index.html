<!doctype html>
<html>

<head>
    <title>Face Identification</title>
    <meta charset='utf-8'>
    <link rel="stylesheet" href="main.css" type="text/css" media="all">
    <script src="capture.js">

    </script>
</head>

<body>
    <div class="contentarea">
        <h1>
            Face Identification
        </h1>
        <p>
            Face identification is a 4-step process.
        </p>

        <h2>1. Create a Person Group</h2>
        <p><i>Call POST to <code>/api/group</code> and with your group's <b>ID</b> in the request body.</i></p>
        <p>Person group ID: <input id="groupId" type="text"/> <button id="createGroupButton">Create Group</button></p>

        <h2>2. Create a Person</h2>
        <p><i>Call POST to <code>/api/group/[your group id]/person</code> and use the generated <b>GUID</b> here as Person ID.</i></p>
        <p>Person name: <input id="personName" type="text" /> <button id="createPersonButton">Create Person</button></p>
        <p>Person ID: <input id="personId" type="text" /></p>

        <h2>3. Add Face to the Person</h2>
        <p><i>Add some faces to your newly created person. Use the <b>Add face</b> button below.</i></p>
        
        <div class="camera">
            <video id="video">Video stream not available.</video>
            <button id="addFaceButton">Add face</button>
        </div>
        <canvas id="canvas">
        </canvas>
        <div class="output">
            <img id="photo" alt="The screen capture will appear in this box.">
            <div id="response"></div>
        </div>        
        
        <h2>4. Train the group</h2>
        <p>The person group needs to be trained before it will recognize new person.</p>
        <p><i>Call POST to <code>/api/group/[your group name]/train</code> to initiate training. It will take just a few seconds.</i></p>
        <p><button id="trainButton">Train</button></p>

        <h2>5. Identify the person</h2>
        <p>After training, the group is ready to recognize new faces.</p>
        <p><i>Call POST with image to <code>/api/group/[your group name]/identify</code></i></p>
        <p><button id="identifyButton">Identify</button></p>

        <hr />

        <footer style="margin-top: 60px">
            This code is based on the MDN <i>Still photo capture example</i> described here: <a href="https://developer.mozilla.org/en-US/docs/Web/API/WebRTC_API/Taking_still_photos"> Taking still photos with WebRTC</a>.
        </footer>
    </div>
</body>

</html>